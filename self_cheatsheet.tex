% Inspired by http://tex.stackexchange.com/questions/99765/document-class-for-reference-cards

\documentclass[10pt]{article}
\usepackage{fixltx2e}
\usepackage[orthodox,l2tabu,abort]{nag}
\usepackage{textcomp}

% Page layout
\usepackage[landscape,margin=0.5in]{geometry}
\usepackage{multicol}

% Title area
\usepackage{titling} % Allows for use of date, author, etc. after \maketitle
% Ref: http://tex.stackexchange.com/questions/3988/titlesec-versus-titling-mangling-thetitle
\let\oldtitle\title
\renewcommand{\title}[1]{\oldtitle{#1}\newcommand{\mythetitle}{#1}}
\renewcommand{\maketitle}{
    {\begin{center}\Large \mythetitle\end{center}}
}

% Document divisions
\usepackage{titlesec}
\setcounter{secnumdepth}{0}
\titlespacing{\section}{0pt}{0pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\usepackage{nopageno} % To keep \section from resetting page style

\setlength{\parindent}{0pt} % disabling indentation by default

% Lists
\usepackage{enumitem} % for consistent formatting of lists
\newlist{ttdesc}{description}{1}
\setlist[ttdesc]{font=\ttfamily,noitemsep}
\usepackage{calc} % for \widthof

% Code
\usepackage{listings}
\lstset{language=[LaTeX]TeX,
    basicstyle=\itshape,
    keywordstyle=\normalfont\ttfamily,
    morekeywords={part,chapter,subsection,subsubsection,paragraph,subparagraph}
}

\usepackage{lipsum}

% Metadata definition
\title{Selflang cheat sheet}
\author{Bystroushaak}
\date{2016}

\pdfinfo {
    /Author   (\theauthor)
    /Title    (\thetitle)
    /Subject  (\thetitle)
    /Keywords (Self, SelfLang, programming language, programming)
}


% beginning of the document
\begin{document}
\begin{multicols*}{3}
\maketitle

\section{Object syntax}
An \textit{object} consists from (empty) set of \textit{slots} and (optionally) \textit{code}.

\vspace*{0.2cm}
\texttt{(| slot1. slot2 | 'code')}
\vspace*{0.2cm}

Slots behave as key-value lookup table. \textit{code} is made from \textit{message sends} and \textit{literals}.

\subsection{Block objects}
\textit{Block objects} share syntax with \textit{objects}, except that square brackts are used instead of round:

\vspace*{0.2cm}
\texttt{[| slot1. slot2 | 'code']}
\vspace*{0.2cm}

\textit{Block objects} works as closures and supports return statement using \texttt{\^} preceding the returned value. If not used, last statement is returned.

% \textit{code} defined in the blocks may be evaluated by sending \texttt{value:} message. % TODO: ověřit





\section{Control sequences}
\subsection{If condition}

As usual in Smalltalk-like languages, \textit{if condition} is implemented as everything else by sending messages, in this case to boolean-like objects:

\vspace*{0.2cm}
\begin{tabular}{ p{3.4cm} p{4cm} l l }
Command & Description \\ \hline
\texttt{obj\ ifTrue:\ b1 False: b2} & \textit{b1} is executed, when \textit{obj} evaluates to \texttt{true}. If not, (optional) \textit{b2} block is used. \\
\hline
\end{tabular}








% Footer
\vfill \hrule\smallskip
{\small This card may be freely distributed under
the terms of the MIT licence ---
Copyleft \textcopyleft\ \thedate{} by \theauthor{}.}
{\small http://kitakitsune.org/}
\end{multicols*}
\end{document}
